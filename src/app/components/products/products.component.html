
<section class="m-5 p-5">
    <input [(ngModel)]="text" type="search" placeholder="Search here" class="form-control w-75 mx-auto my-4 shadow">

    <div class="container">
        <div class="row g-4">
@for (product of productList|search :text ; track product._id) {
    <div class="col-md-4 col-lg-3">
        <div class="product p-2 shadow position-relative" >
                   
 @if (isAdded.includes(product._id)){ 
    <div class=" border border-2  top-0 end-0 p-2 shadow position-absolute   " (click)="deleteProduct(product._id)"  > 

        <a class=" cr " ><i class="fa-solid fa-heart fa-2xl text-danger" ></i></a>
        </div> 
 } 
    @if (!isAdded.includes(product._id)) { 
        <div class=" border border-2  top-0 end-0 p-2 shadow position-absolute " (click)="addToWishlist(product._id)"  > 

            <a class=" cr " ><i class="fa-solid fa-heart fa-2xl " ></i></a>
            </div> 
    }        
          <div  [routerLink]="['/details',product._id]">
            <div class="">
                <img class="w-100 h-75" [src]="product.imageCover" [alt]="product.title">
               
 </div>
            <h3 class="h6 fw-bold pt-2 text-main">{{product.category.name}}</h3>
            <h4 class="h6 fw-bold">{{product.title.split(" ",2).join(" ")}}</h4>
            <div class="d-flex justify-content-between align-items-center">
                <span class="">{{product.price}}EGP</span>
                <div>
                    <i class="fa-solid fa-star rating-color" ></i>
                <span>{{product.ratingsAverage}}</span>
                </div>
            </div>
          </div>
            <div class="d-flex justify-content-center align-items-center btn-add">
                <button class="btn-main cr mt-2 px-5 "  (click)="addToCart(product._id)">+ Add to cart  
                </button>

            </div>
        </div>
    </div>
}
        </div>
    </div>
</section>