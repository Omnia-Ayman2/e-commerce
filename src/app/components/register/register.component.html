 <section class="border border-4 p-2 my-2 " >
    <h1 class="h3 text-main">Hala! Let's get started</h1>
    <form [formGroup]="registerForm" (ngSubmit)="registerFormSubmit()">
        <div class="my-2 ">
<label for="name">name : </label>
<input class="form-control" id="name" type="text" formControlName="name" [ngClass]="{
    'is-valid': !registerForm.get('name')?.errors  && (registerForm.get('name')?.touched||registerForm.get('name')?.dirty),
    'is-invalid': registerForm.get('name')?.errors  && (registerForm.get('name')?.touched||registerForm.get('name')?.dirty)
}"  >
@if (registerForm.get('name')?.errors && (registerForm.get('name')?.touched||registerForm.get('name')?.dirty)) {
    <div class="alert-danger alert w-50 ">
        @if (registerForm.get('name')?.getError('required')) {
            <p class="m-0">* Name Is Required</p>
        }
        @else if (registerForm.get('name')?.getError('minlength')) {
            <p class="m-0">* Name should be more than or equal 3 chars</p>
        }
        @else if (registerForm.get('name')?.getError('maxlength')) {
            <p class="m-0">* Name should be less than or equal 15 chars</p>
        }
        </div>
}

        </div>
        <div class="my-2">
            <label for="email">email :</label>
            <input class="form-control" id="email" type="email" formControlName="email" 
            [ngClass]="{
                'is-valid':!registerForm.get('email')?.errors &&(registerForm.get('email')?.touched||registerForm.get('email')?.dirty),
                'is-invalid':registerForm.get('email')?.errors &&(registerForm.get('email')?.touched||registerForm.get('email')?.dirty)
            }"
            
            >
            @if (registerForm.get('email')?.errors &&(registerForm.get('email')?.touched||registerForm.get('email')?.dirty)) {
                <div class="alert-danger alert w-50 ">
                    @if (registerForm.get('email')?.getError('required')) {
                        <p class="m-0">* email Is Required</p>
                    }
                    @else if (registerForm.get('email')?.getError('email')) {
                        <p class="m-0">* email Is not valid</p>
                    }
                    </div>
            }
            
        </div>
        <div class="my-2">
                        <label for="password">password :</label>
                        <input class="form-control" id="password" type="password" formControlName="password"
                        [ngClass]="{
                            'is-valid':!registerForm.get('password')?.errors &&(registerForm.get('password')?.touched||registerForm.get('password')?.dirty),
                            'is-invalid':registerForm.get('password')?.errors &&(registerForm.get('password')?.touched||registerForm.get('password')?.dirty)
            
            
                        }">
                        @if (registerForm.get('password')?.errors &&(registerForm.get('email')?.touched||registerForm.get('email')?.dirty)) {
                            <div class="alert-danger alert w-50 ">
                                @if (registerForm.get('password')?.getError('required')) {
                                    <p class="m-0">* password Is Required</p>
                                }
                                @else if (registerForm.get('password')?.getError('pattern')) {
                                    <p class="m-0">* Pssword should be at least 6 chars </p>
                                }
                                </div>
                        }
        </div>
        <div class="my-2">
         <label for="rePassword">rePassword :</label>
          <input class="form-control" id="rePassword" type="password" formControlName="rePassword">
          @if (registerForm.getError('mismatch') &&(registerForm.get('rePassword')?.touched||registerForm.get('rePassword')?.dirty)) {
            <p class="alert alert-danger m-0 w-50">Incorrect password confirmation</p>
          }
         
        </div>
        <div class="my-2">
        <label for="phone">phone :</label>
        <input class="form-control" id="phone" type="tel" formControlName="phone"
        [ngClass]="{
            'is-valid':!registerForm.get('phone')?.errors &&(registerForm.get('phone')?.touched||registerForm.get('phone')?.dirty),
            'is-invalid':registerForm.get('phone')?.errors &&(registerForm.get('phone')?.touched||registerForm.get('phone')?.dirty)


        }">
        @if (registerForm.get('phone')?.errors &&registerForm.get('phone')?.touched  &&(registerForm.get('phone')?.touched||registerForm.get('phone')?.dirty) ) {
            <div class="alert-danger alert w-50 ">
                @if (registerForm.get('phone')?.getError('required')) {
                    <p class="m-0">* phone Is Required</p>
                }
                @else if (registerForm.get('phone')?.getError('pattern')) {
                    <p class="m-0">* Enter valid phone </p>
                }
                </div>
        }
        </div>
        <div class="d-flex justify-content-between align-items-center align-content-center my-3">
            <p class="d-block ">have an account? <a class="ms-auto text-main fw-bold text-decoration-underline " href="./login/" >Login</a> </p>

            <button [disabled]="registerForm.invalid||isLoading" type="submit" class="btn-main">Register
                @if (isLoading) {
                <span><i class="fa-solid fa-circle-notch fa-spin"></i></span>
        
                }
               </button>

        </div>
       

       @if (msgError) {
       <p class="alert alert-danger w-50 m-0">{{msgError}}</p>
       }
       @if (isRegister==true) {
        <p>success</p>
       }
    </form>
</section> 

